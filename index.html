<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cyb3ria Secure Messenger</title>
    <style>
        body { font-family: monospace; background: #0a0a0a; color: #00ff00; max-width: 600px; margin: 20px auto; }
        input, button, textarea { background: #222; color: #00ff00; border: 1px solid #00ff00; padding: 8px; margin: 5px 0; font-family: monospace; }
        button { cursor: pointer; }
        #log { border: 1px dashed #555; padding: 10px; height: 100px; overflow-y: scroll; margin-top: 20px; word-break: break-all; }
        /* --- НОВЫЙ СТИЛЬ ДЛЯ УВЕДОМЛЕНИЙ --- */
        .notification-badge {
            color: #ff00ff; /* Яркий фиолетовый/розовый цвет */
            font-weight: bold;
            margin-left: 8px; /* Небольшой отступ от имени */
        }
        
    </style>
</head>
<body>
    <h1>Cyb3ria Secure Messenger</h1>

    <div id="auth-view">
        <h2>Login / Register</h2>
        <input type="email" id="email" placeholder="Email">
        <input type="text" id="username" placeholder="Username (for registration)">
        <input type="password" id="password" placeholder="Password">
        <br>
        <button id="register-btn">Register</button>
        <button id="login-btn">Login</button>
    </div>
    
   <div id="chat-view" style="display: none;">
    <!-- НОВОЕ: Кнопка выхода -->
    <h2>Your Secure Channel (<span id="current-user-name" style="color: #00ffff;"></span>) <button id="logout-btn" style="float: right;">Logout</button></h2>
    <div style="display: flex;">
        <div id="user-list" style="width: 30%; border-right: 1px solid #00ff00; padding-right: 10px; height: 250px; overflow-y: auto;">
            <h3>Contacts</h3>
        </div>
        <div id="message-area" style="width: 70%; padding-left: 10px;">
            <h3>Messages with <span id="current-chat-user">...</span></h3>
            <div id="message-list" style="height: 200px; overflow-y: scroll; border: 1px solid #555; padding: 5px; word-break: break-word;">
            </div>
            <textarea id="message-input" placeholder="Type an encrypted message..." style="width: 95%; margin-top: 10px;" rows="2"></textarea>
            <button id="send-btn">Send Secure</button>
        </div>
    </div>
</div>

    <div id="log"></div>
    <!-- ИЗМЕНЕНИЕ: Путь к JS и WASM теперь относительный -->
    <script src="main.js" type="module"></script>
</body>
</html>